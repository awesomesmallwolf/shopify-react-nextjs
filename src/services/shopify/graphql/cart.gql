query getCart($checkoutId: ID!) {
  node(id: $checkoutId) {
    ... on Checkout {
      __typename
      webUrl
      subtotalPriceV2 {
        amount
        currencyCode
      }
      totalTaxV2 {
        amount
        currencyCode
      }
      totalPriceV2 {
        amount
        currencyCode
      }
      lineItems(first: 250) {
        edges {
          node {
            id
            title
            variant {
              id
              title
              image {
                altText
                transformedSrc(maxWidth: 300, maxHeight: 400, crop: CENTER, preferredContentType: JPG)
              }
              priceV2 {
                amount
                currencyCode
              }
            }
            quantity
          }
        }
      }
    }
  }
}

query getCartItemCount($checkoutId: ID!) {
  node(id: $checkoutId) {
    ... on Checkout {
      __typename
      lineItems(first: 250) {
        edges {
          node {
            quantity
          }
        }
      }
    }
  }
}

mutation createCart($input: CheckoutCreateInput!) {
  checkoutCreate(input: $input) {
    checkout {
      id
    }
  }
}

mutation addCartItems($checkoutId: ID!, $lineItems: [CheckoutLineItemInput!]!) {
  checkoutLineItemsAdd(lineItems: $lineItems, checkoutId: $checkoutId) {
    checkout {
      id
    }
  }
}
